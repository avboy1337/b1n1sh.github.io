<html>
  <head>
    <script src="https://b1n1sh.github.io/FaceDetector/mojo_bindings.js"></script>    
    <script src="https://b1n1sh.github.io/FaceDetector/services/shape_detection/public/mojom/textdetection.mojom.js"></script>
    </head>
    <body>
      <button id="myBtn" style="height: 200px;width: 200px">Trigger</button>
      <script>
      /*
      function TextDetectionImpl() {
          this.binding = new mojo.Binding(shapeDetection.mojom.TextDetection, this);
      }

      TextDetectionImpl.prototype = {
        detect: async (bitmap_data) => {
          console.log("text detect");
        }
      };

      function createTextDetection() {
        Face_Detection = new TextDetectionImpl();
        Face_Detection_ptr = new shapeDetection.mojom.TextDetectionPtr();
        Face_Detection.binding.bind(mojo.makeRequest(Face_Detection_ptr));
        return Face_Detection_ptr;
      }
      */

      function trigger()
      {
        let TextDetectionPtr = new shapeDetection.mojom.TextDetectionPtr();
        Mojo.bindInterface(shapeDetection.mojom.TextDetection.name, mojo.makeRequest(TextDetectionPtr).handle);
        
        // let fdo = new shapeDetection.mojom.FaceDetectorOptions();
        // fdo.maxDetectedFaces = 5;
        // fdo.fastMode = false;
        
        let image = new ImageData(200, 100);
        TextDetectionPtr.detect(image);
      }     

      document.getElementById("myBtn").addEventListener("click", trigger);
      </script>
    </body>
</html>