<html>
<body>
	<font size="10">(Font size 10) welcome to binish world</font><br>
	<font size="20">(Font size 20) welcome to binish world</font><br>
	<h1>This is H1 tag</h1><br>
	<pre id='log'></pre>	
	<script>
		var __wx = undefined;
		var _callback_count = 1000;

		function mylog(string) {
		  	var log = document.getElementById('log');
		  	if (log) {				
		    		log.innerText += string+'\n';
		  	}
		}

		function sendMessage(msg)
	  	{
	  		var msgArray = []; msgArray.push(msg);
	  		var msgArrayString = JSON.stringify(msgArray);

			__wx._sendMessage(msgArrayString);

			mylog("sendMessage:"+msg['func']);
	  	}

	  	function call(func, params) {
	  		if(typeof params !== 'object') {
	  			params = {};
	  		}

	  		var callbackID = (_callback_count++).toString();

	  		var msgObj = {
	  			'func': func,
	  			'params': params
	  		};

	  		msgObj['__msg_type'] = 'call';
	  		msgObj['__callback_id'] = callbackID;

	  		sendMessage(JSON.stringify(msgObj));
	  	}

	   	function setFontSizeCallback(fontSize)
  		{  			
  			call('setFontSizeCallback', {
  				"fontSize" : fontSize
  			});
  		}

	   	window.addEventListener('load', function(event) {
	   		mylog("document load done");
	  		mylog("[+] Printing Javascript-bridges available");
	  		if(typeof window.WeixinJSBridge !== 'undefined') mylog('WeixinJSBridge');
	    	if(typeof window.WeixinJSContext !== 'undefined') mylog('WeixinJSContext');
	    	if(typeof window.xwebToNative !== 'undefined') mylog('xwebToNative');
	    	if(typeof window.webSearchJSApi !== 'undefined') mylog('webSearchJSApi');
	    	if(typeof window.__wxtag !== 'undefined') mylog('__wxtag');
	    	if(typeof window.CustomFullscreenApi !== 'undefined') mylog('CustomFullscreenApi');
	    	if(typeof window.__wx !== 'undefined') {
	    		__wx = window.__wx;
	    		mylog('__wx');
	    	}
	    
	     	if( typeof __wx !== 'undefined' ) { 
	     		mylog(__wx._sendMessage);
	     		mylog(__wx.__getDgtVerifyRandomStr);
  				setTimeout(()=> {	
  					setFontSizeCallback(2);
  				}, 5000);
  			}
	    });
  </script>		
</body>
</html>